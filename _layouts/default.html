

{% include base_path %}

<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js"{% if site.site_theme == "dark" %} data-theme="dark"{% endif %}>
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>

  <body>

<canvas id="fluid-canvas"
  style="position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         z-index: -1;">
</canvas>



    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

<script>
window.addEventListener('load', function () {
  console.log("Page loaded, checking Canvas...");
  
  const canvas = document.getElementById('fluid-canvas');
  if (!canvas) {
    console.error("Canvas not found!");
    return;
  }
  
  console.log("Canvas found:", canvas);
  
  let attempts = 0;
  const maxAttempts = 50;
  
  const checkConfig = setInterval(function() {
    attempts++;
    console.log(`Checking config... attempt ${attempts}`);
    
    if (typeof config !== 'undefined') {
      console.log("Config found!");
      clearInterval(checkConfig);
      
      const gui = document.querySelector('.dg');
      if (gui) gui.style.display = 'none';
      
      config.BACK_COLOR = { r: 245, g: 245, b: 250 };
      config.COLORFUL = true;
      config.SHADING = true;
      
      console.log("✅ WebGL Fluid Simulation configured!");
    } else if (attempts >= maxAttempts) {
      console.error("❌ Config object not found after " + maxAttempts + " attempts");
      console.error("WebGL script may not have loaded correctly");
      clearInterval(checkConfig);
    }
  }, 100); // 每100ms检查一次
});
</script>

    
  </body>
</html>
